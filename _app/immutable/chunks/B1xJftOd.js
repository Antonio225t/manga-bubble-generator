import{S as E,z as K,A as j,B as y,C as k,k as m,U as d,D as _,F as I,G as B,H as C,I as H,J as Y,b as q,h as P,K as z,E as G,L as J,M as Q,N as V,O as A,P as D,a as L,Q as M,c as Z,n as U,R as $,T as W,V as X}from"./B7lGpz4L.js";import{s as p,g as ee}from"./C9eM6Pi-.js";function h(n,l=null,o){if(typeof n!="object"||n===null||E in n)return n;const a=H(n);if(a!==K&&a!==j)return n;var i=new Map,c=Y(n),b=y(0);c&&i.set("length",y(n.length));var g;return new Proxy(n,{defineProperty(f,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&C();var s=i.get(e);return s===void 0?(s=y(t.value),i.set(e,s)):_(s,h(t.value,g)),!0},deleteProperty(f,e){var t=i.get(e);if(t===void 0)e in f&&i.set(e,y(d));else{if(c&&typeof e=="string"){var s=i.get("length"),r=Number(e);Number.isInteger(r)&&r<s.v&&_(s,r)}_(t,d),F(b)}return!0},get(f,e,t){var v;if(e===E)return n;var s=i.get(e),r=e in f;if(s===void 0&&(!r||(v=I(f,e))!=null&&v.writable)&&(s=y(h(r?f[e]:d,g)),i.set(e,s)),s!==void 0){var u=m(s);return u===d?void 0:u}return Reflect.get(f,e,t)},getOwnPropertyDescriptor(f,e){var t=Reflect.getOwnPropertyDescriptor(f,e);if(t&&"value"in t){var s=i.get(e);s&&(t.value=m(s))}else if(t===void 0){var r=i.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==d)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(f,e){var u;if(e===E)return!0;var t=i.get(e),s=t!==void 0&&t.v!==d||Reflect.has(f,e);if(t!==void 0||B!==null&&(!s||(u=I(f,e))!=null&&u.writable)){t===void 0&&(t=y(s?h(f[e],g):d),i.set(e,t));var r=m(t);if(r===d)return!1}return s},set(f,e,t,s){var S;var r=i.get(e),u=e in f;if(c&&e==="length")for(var v=t;v<r.v;v+=1){var w=i.get(v+"");w!==void 0?_(w,d):v in f&&(w=y(d),i.set(v+"",w))}r===void 0?(!u||(S=I(f,e))!=null&&S.writable)&&(r=y(void 0),_(r,h(t,g)),i.set(e,r)):(u=r.v!==d,_(r,h(t,g)));var N=Reflect.getOwnPropertyDescriptor(f,e);if(N!=null&&N.set&&N.set.call(s,t),!u){if(c&&typeof e=="string"){var O=i.get("length"),R=Number(e);Number.isInteger(R)&&R>=O.v&&_(O,R+1)}F(b)}return!0},ownKeys(f){m(b);var e=Reflect.ownKeys(f).filter(r=>{var u=i.get(r);return u===void 0||u.v!==d});for(var[t,s]of i)s.v!==d&&!(t in f)&&e.push(t);return e},setPrototypeOf(){k()}})}function F(n,l=1){_(n,n.v+l)}function re(n,l,o=!1){P&&z();var a=n,i=null,c=null,b=d,g=o?G:0,f=!1;const e=(s,r=!0)=>{f=!0,t(r,s)},t=(s,r)=>{if(b===(b=s))return;let u=!1;if(P){const v=a.data===J;!!b===v&&(a=Q(),V(a),A(!1),u=!0)}b?(i?D(i):r&&(i=L(()=>r(a))),c&&M(c,()=>{c=null})):(c?D(c):r&&(c=L(()=>r(a))),i&&M(i,()=>{i=null})),u&&A(!0)};q(()=>{f=!1,l(e),f||t(null,null)},g),P&&(a=Z)}let T=!1,x=Symbol();function ie(n,l,o){const a=o[l]??(o[l]={store:null,source:$(void 0),unsubscribe:U});if(a.store!==n&&!(x in o))if(a.unsubscribe(),a.store=n??null,n==null)a.source.v=void 0,a.unsubscribe=U;else{var i=!0;a.unsubscribe=p(n,c=>{i?a.source.v=c:_(a.source,c)}),i=!1}return n&&x in o?ee(n):m(a.source)}function se(n,l){return n.set(l),l}function fe(){const n={};function l(){W(()=>{for(var o in n)n[o].unsubscribe();X(n,x,{enumerable:!1,value:!0})})}return[n,l]}function ae(n){var l=T;try{return T=!1,[n(),T]}finally{T=l}}export{ie as a,se as b,ae as c,re as i,h as p,fe as s};
